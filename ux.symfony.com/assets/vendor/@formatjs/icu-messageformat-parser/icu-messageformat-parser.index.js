/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/@formatjs/icu-messageformat-parser@2.6.2/lib/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{__assign as h}from"tslib";import{parseDateTimeSkeleton as t,parseNumberSkeletonFromString as e,parseNumberSkeleton as r}from"@formatjs/icu-skeleton-parser";var i,s,o;function n(h){return h.type===s.literal}function a(h){return h.type===s.argument}function u(h){return h.type===s.number}function l(h){return h.type===s.date}function E(h){return h.type===s.time}function c(h){return h.type===s.select}function H(h){return h.type===s.plural}function p(h){return h.type===s.pound}function f(h){return h.type===s.tag}function B(h){return!(!h||"object"!=typeof h||h.type!==o.number)}function b(h){return!(!h||"object"!=typeof h||h.type!==o.dateTime)}function T(h){return{type:s.literal,value:h}}function _(h,t){return{type:s.number,value:h,style:t}}!function(h){h[h.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",h[h.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",h[h.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",h[h.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",h[h.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",h[h.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",h[h.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",h[h.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",h[h.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",h[h.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",h[h.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",h[h.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",h[h.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",h[h.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",h[h.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",h[h.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",h[h.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",h[h.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",h[h.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",h[h.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",h[h.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",h[h.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",h[h.INVALID_TAG=23]="INVALID_TAG",h[h.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",h[h.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",h[h.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(i||(i={})),function(h){h[h.literal=0]="literal",h[h.argument=1]="argument",h[h.number=2]="number",h[h.date=3]="date",h[h.time=4]="time",h[h.select=5]="select",h[h.plural=6]="plural",h[h.pound=7]="pound",h[h.tag=8]="tag"}(s||(s={})),function(h){h[h.number=0]="number",h[h.dateTime=1]="dateTime"}(o||(o={}));var A,P=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,L={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","h","K"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TL:["H","hB","hb","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function S(h){var t=h.hourCycle;if(void 0===t&&h.hourCycles&&h.hourCycles.length&&(t=h.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var e,r=h.language;return"root"!==r&&(e=h.maximize().region),(L[e||""]||L[r||""]||L["".concat(r,"-001")]||L["001"])[0]}var N=new RegExp("^".concat(P.source,"*")),C=new RegExp("".concat(P.source,"*$"));function m(h,t){return{start:h,end:t}}var R=!!String.prototype.startsWith&&"_a".startsWith("a",1),v=!!String.fromCodePoint,I=!!Object.fromEntries,M=!!String.prototype.codePointAt,U=!!String.prototype.trimStart,G=!!String.prototype.trimEnd,O=!!Number.isSafeInteger?Number.isSafeInteger:function(h){return"number"==typeof h&&isFinite(h)&&Math.floor(h)===h&&Math.abs(h)<=9007199254740991},y=!0;try{y="a"===(null===(A=K("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===A?void 0:A[0])}catch(h){y=!1}var g,d=R?function(h,t,e){return h.startsWith(t,e)}:function(h,t,e){return h.slice(e,e+t.length)===t},D=v?String.fromCodePoint:function(){for(var h=[],t=0;t<arguments.length;t++)h[t]=arguments[t];for(var e,r="",i=h.length,s=0;i>s;){if((e=h[s++])>1114111)throw RangeError(e+" is not a valid code point");r+=e<65536?String.fromCharCode(e):String.fromCharCode(55296+((e-=65536)>>10),e%1024+56320)}return r},F=I?Object.fromEntries:function(h){for(var t={},e=0,r=h;e<r.length;e++){var i=r[e],s=i[0],o=i[1];t[s]=o}return t},X=M?function(h,t){return h.codePointAt(t)}:function(h,t){var e=h.length;if(!(t<0||t>=e)){var r,i=h.charCodeAt(t);return i<55296||i>56319||t+1===e||(r=h.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},V=U?function(h){return h.trimStart()}:function(h){return h.replace(N,"")},k=G?function(h){return h.trimEnd()}:function(h){return h.replace(C,"")};function K(h,t){return new RegExp(h,t)}if(y){var Y=K("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");g=function(h,t){var e;return Y.lastIndex=t,null!==(e=Y.exec(h)[1])&&void 0!==e?e:""}}else g=function(h,t){for(var e=[];;){var r=X(h,t);if(void 0===r||W(r)||Z(r))break;e.push(r),t+=r>=65536?2:1}return D.apply(void 0,e)};var w=function(){function n(h,t){void 0===t&&(t={}),this.message=h,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return n.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},n.prototype.parseMessage=function(h,t,e){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){if((n=this.parseArgument(h,e)).err)return n;r.push(n.val)}else{if(125===o&&h>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(e)break;return this.error(i.UNMATCHED_CLOSING_TAG,m(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&x(this.peek()||0)){if((n=this.parseTag(h,t)).err)return n;r.push(n.val)}else{var n;if((n=this.parseLiteral(h,t)).err)return n;r.push(n.val)}}else{var a=this.clonePosition();this.bump(),r.push({type:s.pound,location:m(a,this.clonePosition())})}}}return{val:r,err:null}},n.prototype.parseTag=function(h,t){var e=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:s.literal,value:"<".concat(r,"/>"),location:m(e,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(h+1,t,!0);if(o.err)return o;var n=o.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!x(this.char()))return this.error(i.INVALID_TAG,m(a,this.clonePosition()));var u=this.clonePosition();return r!==this.parseTagName()?this.error(i.UNMATCHED_CLOSING_TAG,m(u,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:s.tag,value:r,children:n,location:m(e,this.clonePosition())},err:null}:this.error(i.INVALID_TAG,m(a,this.clonePosition())))}return this.error(i.UNCLOSED_TAG,m(e,this.clonePosition()))}return this.error(i.INVALID_TAG,m(e,this.clonePosition()))},n.prototype.parseTagName=function(){var h,t=this.offset();for(this.bump();!this.isEOF()&&(45===(h=this.char())||46===h||h>=48&&h<=57||95===h||h>=97&&h<=122||h>=65&&h<=90||183==h||h>=192&&h<=214||h>=216&&h<=246||h>=248&&h<=893||h>=895&&h<=8191||h>=8204&&h<=8205||h>=8255&&h<=8256||h>=8304&&h<=8591||h>=11264&&h<=12271||h>=12289&&h<=55295||h>=63744&&h<=64975||h>=65008&&h<=65533||h>=65536&&h<=983039);)this.bump();return this.message.slice(t,this.offset())},n.prototype.parseLiteral=function(h,t){for(var e=this.clonePosition(),r="";;){var i=this.tryParseQuote(t);if(i)r+=i;else{var o=this.tryParseUnquoted(h,t);if(o)r+=o;else{var n=this.tryParseLeftAngleBracket();if(!n)break;r+=n}}}var a=m(e,this.clonePosition());return{val:{type:s.literal,value:r,location:a},err:null}},n.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(x(h=this.peek()||0)||47===h)?null:(this.bump(),"<");var h},n.prototype.tryParseQuote=function(h){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===h||"selectordinal"===h)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var e=this.char();if(39===e){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(e);this.bump()}return D.apply(void 0,t)},n.prototype.tryParseUnquoted=function(h,t){if(this.isEOF())return null;var e=this.char();return 60===e||123===e||35===e&&("plural"===t||"selectordinal"===t)||125===e&&h>0?null:(this.bump(),D(e))},n.prototype.parseArgument=function(h,t){var e=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,m(e,this.clonePosition()));if(125===this.char())return this.bump(),this.error(i.EMPTY_ARGUMENT,m(e,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(i.MALFORMED_ARGUMENT,m(e,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,m(e,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:s.argument,value:r,location:m(e,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,m(e,this.clonePosition())):this.parseArgumentOptions(h,t,r,e);default:return this.error(i.MALFORMED_ARGUMENT,m(e,this.clonePosition()))}},n.prototype.parseIdentifierIfPossible=function(){var h=this.clonePosition(),t=this.offset(),e=g(this.message,t),r=t+e.length;return this.bumpTo(r),{value:e,location:m(h,this.clonePosition())}},n.prototype.parseArgumentOptions=function(e,r,n,a){var u,l=this.clonePosition(),E=this.parseIdentifierIfPossible().value,c=this.clonePosition();switch(E){case"":return this.error(i.EXPECT_ARGUMENT_TYPE,m(l,c));case"number":case"date":case"time":this.bumpSpace();var H=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition();if((L=this.parseSimpleArgStyleIfPossible()).err)return L;if(0===(T=k(L.val)).length)return this.error(i.EXPECT_ARGUMENT_STYLE,m(this.clonePosition(),this.clonePosition()));H={style:T,styleLocation:m(p,this.clonePosition())}}if((N=this.tryParseArgumentClose(a)).err)return N;var f=m(a,this.clonePosition());if(H&&d(null==H?void 0:H.style,"::",0)){var B=V(H.style.slice(2));if("number"===E)return(L=this.parseNumberSkeletonFromString(B,H.styleLocation)).err?L:{val:{type:s.number,value:n,location:f,style:L.val},err:null};if(0===B.length)return this.error(i.EXPECT_DATE_TIME_SKELETON,f);var b=B;this.locale&&(b=function(h,t){for(var e="",r=0;r<h.length;r++){var i=h.charAt(r);if("j"===i){for(var s=0;r+1<h.length&&h.charAt(r+1)===i;)s++,r++;var o=1+(1&s),n=s<2?1:3+(s>>1),a=S(t);for("H"!=a&&"k"!=a||(n=0);n-- >0;)e+="a";for(;o-- >0;)e=a+e}else e+="J"===i?"H":i}return e}(B,this.locale));var T={type:o.dateTime,pattern:b,location:H.styleLocation,parsedOptions:this.shouldParseSkeletons?t(b):{}};return{val:{type:"date"===E?s.date:s.time,value:n,location:f,style:T},err:null}}return{val:{type:"number"===E?s.number:"date"===E?s.date:s.time,value:n,location:f,style:null!==(u=null==H?void 0:H.style)&&void 0!==u?u:null},err:null};case"plural":case"selectordinal":case"select":var _=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(i.EXPECT_SELECT_ARGUMENT_OPTIONS,m(_,h({},_)));this.bumpSpace();var A=this.parseIdentifierIfPossible(),P=0;if("select"!==E&&"offset"===A.value){if(!this.bumpIf(":"))return this.error(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,m(this.clonePosition(),this.clonePosition()));var L;if(this.bumpSpace(),(L=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,i.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return L;this.bumpSpace(),A=this.parseIdentifierIfPossible(),P=L.val}var N,C=this.tryParsePluralOrSelectOptions(e,E,r,A);if(C.err)return C;if((N=this.tryParseArgumentClose(a)).err)return N;var R=m(a,this.clonePosition());return"select"===E?{val:{type:s.select,value:n,options:F(C.val),location:R},err:null}:{val:{type:s.plural,value:n,options:F(C.val),offset:P,pluralType:"plural"===E?"cardinal":"ordinal",location:R},err:null};default:return this.error(i.INVALID_ARGUMENT_TYPE,m(l,c))}},n.prototype.tryParseArgumentClose=function(h){return this.isEOF()||125!==this.char()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,m(h,this.clonePosition())):(this.bump(),{val:!0,err:null})},n.prototype.parseSimpleArgStyleIfPossible=function(){for(var h=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var e=this.clonePosition();if(!this.bumpUntil("'"))return this.error(i.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,m(e,this.clonePosition()));this.bump();break;case 123:h+=1,this.bump();break;case 125:if(!(h>0))return{val:this.message.slice(t.offset,this.offset()),err:null};h-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},n.prototype.parseNumberSkeletonFromString=function(h,t){var s=[];try{s=e(h)}catch(h){return this.error(i.INVALID_NUMBER_SKELETON,t)}return{val:{type:o.number,tokens:s,location:t,parsedOptions:this.shouldParseSkeletons?r(s):{}},err:null}},n.prototype.tryParsePluralOrSelectOptions=function(h,t,e,r){for(var s,o=!1,n=[],a=new Set,u=r.value,l=r.location;;){if(0===u.length){var E=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var c=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_SELECTOR,i.INVALID_PLURAL_ARGUMENT_SELECTOR);if(c.err)return c;l=m(E,this.clonePosition()),u=this.message.slice(E.offset,this.offset())}if(a.has(u))return this.error("select"===t?i.DUPLICATE_SELECT_ARGUMENT_SELECTOR:i.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===u&&(o=!0),this.bumpSpace();var H=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:i.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,m(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(h+1,t,e);if(p.err)return p;var f=this.tryParseArgumentClose(H);if(f.err)return f;n.push([u,{value:p.val,location:m(H,this.clonePosition())}]),a.add(u),this.bumpSpace(),u=(s=this.parseIdentifierIfPossible()).value,l=s.location}return 0===n.length?this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR:i.EXPECT_PLURAL_ARGUMENT_SELECTOR,m(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(i.MISSING_OTHER_CLAUSE,m(this.clonePosition(),this.clonePosition())):{val:n,err:null}},n.prototype.tryParseDecimalInteger=function(h,t){var e=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(e=-1);for(var i=!1,s=0;!this.isEOF();){var o=this.char();if(!(o>=48&&o<=57))break;i=!0,s=10*s+(o-48),this.bump()}var n=m(r,this.clonePosition());return i?O(s*=e)?{val:s,err:null}:this.error(t,n):this.error(h,n)},n.prototype.offset=function(){return this.position.offset},n.prototype.isEOF=function(){return this.offset()===this.message.length},n.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},n.prototype.char=function(){var h=this.position.offset;if(h>=this.message.length)throw Error("out of bound");var t=X(this.message,h);if(void 0===t)throw Error("Offset ".concat(h," is at invalid UTF-16 code unit boundary"));return t},n.prototype.error=function(h,t){return{val:null,err:{kind:h,message:this.message,location:t}}},n.prototype.bump=function(){if(!this.isEOF()){var h=this.char();10===h?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=h<65536?1:2)}},n.prototype.bumpIf=function(h){if(d(this.message,h,this.offset())){for(var t=0;t<h.length;t++)this.bump();return!0}return!1},n.prototype.bumpUntil=function(h){var t=this.offset(),e=this.message.indexOf(h,t);return e>=0?(this.bumpTo(e),!0):(this.bumpTo(this.message.length),!1)},n.prototype.bumpTo=function(h){if(this.offset()>h)throw Error("targetOffset ".concat(h," must be greater than or equal to the current offset ").concat(this.offset()));for(h=Math.min(h,this.message.length);;){var t=this.offset();if(t===h)break;if(t>h)throw Error("targetOffset ".concat(h," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},n.prototype.bumpSpace=function(){for(;!this.isEOF()&&W(this.char());)this.bump()},n.prototype.peek=function(){if(this.isEOF())return null;var h=this.char(),t=this.offset(),e=this.message.charCodeAt(t+(h>=65536?2:1));return null!=e?e:null},n}();function x(h){return h>=97&&h<=122||h>=65&&h<=90}function W(h){return h>=9&&h<=13||32===h||133===h||h>=8206&&h<=8207||8232===h||8233===h}function Z(h){return h>=33&&h<=35||36===h||h>=37&&h<=39||40===h||41===h||42===h||43===h||44===h||45===h||h>=46&&h<=47||h>=58&&h<=59||h>=60&&h<=62||h>=63&&h<=64||91===h||92===h||93===h||94===h||96===h||123===h||124===h||125===h||126===h||161===h||h>=162&&h<=165||166===h||167===h||169===h||171===h||172===h||174===h||176===h||177===h||182===h||187===h||191===h||215===h||247===h||h>=8208&&h<=8213||h>=8214&&h<=8215||8216===h||8217===h||8218===h||h>=8219&&h<=8220||8221===h||8222===h||8223===h||h>=8224&&h<=8231||h>=8240&&h<=8248||8249===h||8250===h||h>=8251&&h<=8254||h>=8257&&h<=8259||8260===h||8261===h||8262===h||h>=8263&&h<=8273||8274===h||8275===h||h>=8277&&h<=8286||h>=8592&&h<=8596||h>=8597&&h<=8601||h>=8602&&h<=8603||h>=8604&&h<=8607||8608===h||h>=8609&&h<=8610||8611===h||h>=8612&&h<=8613||8614===h||h>=8615&&h<=8621||8622===h||h>=8623&&h<=8653||h>=8654&&h<=8655||h>=8656&&h<=8657||8658===h||8659===h||8660===h||h>=8661&&h<=8691||h>=8692&&h<=8959||h>=8960&&h<=8967||8968===h||8969===h||8970===h||8971===h||h>=8972&&h<=8991||h>=8992&&h<=8993||h>=8994&&h<=9e3||9001===h||9002===h||h>=9003&&h<=9083||9084===h||h>=9085&&h<=9114||h>=9115&&h<=9139||h>=9140&&h<=9179||h>=9180&&h<=9185||h>=9186&&h<=9254||h>=9255&&h<=9279||h>=9280&&h<=9290||h>=9291&&h<=9311||h>=9472&&h<=9654||9655===h||h>=9656&&h<=9664||9665===h||h>=9666&&h<=9719||h>=9720&&h<=9727||h>=9728&&h<=9838||9839===h||h>=9840&&h<=10087||10088===h||10089===h||10090===h||10091===h||10092===h||10093===h||10094===h||10095===h||10096===h||10097===h||10098===h||10099===h||10100===h||10101===h||h>=10132&&h<=10175||h>=10176&&h<=10180||10181===h||10182===h||h>=10183&&h<=10213||10214===h||10215===h||10216===h||10217===h||10218===h||10219===h||10220===h||10221===h||10222===h||10223===h||h>=10224&&h<=10239||h>=10240&&h<=10495||h>=10496&&h<=10626||10627===h||10628===h||10629===h||10630===h||10631===h||10632===h||10633===h||10634===h||10635===h||10636===h||10637===h||10638===h||10639===h||10640===h||10641===h||10642===h||10643===h||10644===h||10645===h||10646===h||10647===h||10648===h||h>=10649&&h<=10711||10712===h||10713===h||10714===h||10715===h||h>=10716&&h<=10747||10748===h||10749===h||h>=10750&&h<=11007||h>=11008&&h<=11055||h>=11056&&h<=11076||h>=11077&&h<=11078||h>=11079&&h<=11084||h>=11085&&h<=11123||h>=11124&&h<=11125||h>=11126&&h<=11157||11158===h||h>=11159&&h<=11263||h>=11776&&h<=11777||11778===h||11779===h||11780===h||11781===h||h>=11782&&h<=11784||11785===h||11786===h||11787===h||11788===h||11789===h||h>=11790&&h<=11798||11799===h||h>=11800&&h<=11801||11802===h||11803===h||11804===h||11805===h||h>=11806&&h<=11807||11808===h||11809===h||11810===h||11811===h||11812===h||11813===h||11814===h||11815===h||11816===h||11817===h||h>=11818&&h<=11822||11823===h||h>=11824&&h<=11833||h>=11834&&h<=11835||h>=11836&&h<=11839||11840===h||11841===h||11842===h||h>=11843&&h<=11855||h>=11856&&h<=11857||11858===h||h>=11859&&h<=11903||h>=12289&&h<=12291||12296===h||12297===h||12298===h||12299===h||12300===h||12301===h||12302===h||12303===h||12304===h||12305===h||h>=12306&&h<=12307||12308===h||12309===h||12310===h||12311===h||12312===h||12313===h||12314===h||12315===h||12316===h||12317===h||h>=12318&&h<=12319||12320===h||12336===h||64830===h||64831===h||h>=65093&&h<=65094}function Q(h){h.forEach((function(h){if(delete h.location,c(h)||H(h))for(var t in h.options)delete h.options[t].location,Q(h.options[t].value);else u(h)&&B(h.style)||(l(h)||E(h))&&b(h.style)?delete h.style.location:f(h)&&Q(h.children)}))}function J(t,e){void 0===e&&(e={}),e=h({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var r=new w(t,e).parse();if(r.err){var s=SyntaxError(i[r.err.kind]);throw s.location=r.err.location,s.originalMessage=r.err.message,s}return(null==e?void 0:e.captureLocation)||Q(r.val),r.val}var q=w;export{o as SKELETON_TYPE,s as TYPE,q as _Parser,T as createLiteralElement,_ as createNumberElement,a as isArgumentElement,l as isDateElement,b as isDateTimeSkeleton,n as isLiteralElement,u as isNumberElement,B as isNumberSkeleton,H as isPluralElement,p as isPoundElement,c as isSelectElement,f as isTagElement,E as isTimeElement,J as parse};export default null;
