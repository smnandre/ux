{% extends "liveDemoBase.html.twig" %}

{% block demo_main %}

    <section style="padding-block: 6rem;">
        <div class="container-fluid container-xxl" style="position: relative;">
            <div class="markdown-container bg-body shadow-blur shadow-blur--rainbow" id="demo">


                <div class="row row-cols-2 py-5 flex-column-reverse" style="--emoji-size: 4rem; margin-bottom: 12rem;">
                    Sample 1

                    <twig:EmojiGrid lazy page="2">
                        <twig:block name="loadingContent">
                            <div class="EmojiGrid">
                                {% for i in 0..12 %}
                                    <div class="EmojiGrid__item"></div>
                                {% endfor %}
                            </div>
                        </twig:block>
                    </twig:EmojiGrid>

                    <div style="align-self: start; position: sticky;  top: 0;">
                        Generated: 12:00:00
                    </div>
                </div>

                <div class="row row-cols-2 py-5" style="--emoji-size: 4rem; margin-bottom: 12rem;">
                    Sample 1

                    <twig:EmojiGrid page="1" defer lazy />

                    <div style="align-self: start; position: sticky;  top: 0;">
                        Generated: 12:00:00
                    </div>
                </div>

                <div class="row row-cols-2 py-5 " style="--emoji-size: 4rem; margin-bottom: 12rem;">
                    Sample 1

                    <twig:EmojiGrid page="1" lazy="{{ 48 < 2 }}" />
                    <twig:EmojiGrid page="2" lazy="{{ 48 > 2 }}" />

                    <div style="align-self: start; position: sticky;  top: 0;">
                        Generated: 12:00:00
                    </div>
                </div>

                <twig:EmojiGrid defer="{{ false }}" lazy />



                <twig:EmojiGrid defer="{{ null }}" lazy="{{ 8 < 4 }}" />

                {% for i in 1..4 %}
                    <div class="row row-cols-2 py-5" style="--emoji-size: 4rem; margin-bottom: 12rem;">
                        Sample {{ i }}

                        <twig:EmojiGrid page="{{ i }}" defer="{{ i > 1 }}" loading="lazy" lazy />

                        <div style="align-self: start; position: sticky;  top: 0;">
                            Generated: {{ 'now'|date('H:i:s') }}
                        </div>
                    </div>
                {% endfor %}

            </div>
        </div>
    </section>

    <section style="padding-block: 8rem;">
        <div class="container-xl">

            <h2 class="demo__section__title">Lazy Loading</h2>
            <p>Lorem ipsum</p>

            <div class="grid">
                Comment / code
            </div>

        </div>
    </section>

    {% if false %}
    <section style="background: #F8F4FF; padding-block: 6rem;">
        <div class="container-xl">

            <h2 class="demo__section__title">Scroll direction</h2>
            <p>Lorem ipsum</p>

            <div class="d-grid">
                <div>
                    <h3>Vertical</h3>
                    <p>....</p>
                </div>
                <div class="d-flex flex-row"
                     style="width: 600px; gap: .75rem; height: 400px; overflow-x: auto; scroll-snap-type: block; scroll-snap-align: center; align-items: stretch;">
                    {% for i in 0..4 %}
                        <div style="width: 300px; height: 300px; padding: 1rem; background: hsl({{ i * 60 }} 80 80);">
                            <twig:EmojiGrid page="{{ i + 1 }}" loading="lazy" />
                        </div>
                    {% endfor %}
                </div>
            </div>

            <div class="d-grid"> {# TODO reverse #}
                <div>
                    <h3>Horizontal</h3>
                    <p>....</p>
                </div>
                <div class="d-flex flex-row"
                     style="width: 600px; gap: .75rem; height: 400px; overflow-x: auto; scroll-snap-type: block; scroll-snap-align: center; align-items: stretch;">
                    {% for i in 0..4 %}
                        <div style="width: 300px; height: 300px; padding: 1rem; background: hsl({{ i * 60 }} 80 80);">
                            <twig:EmojiGrid page="{{ i + 1 }}" loading="lazy" />
                        </div>
                    {% endfor %}
                </div>
            </div>

        </div>
    </section>
    {% endif %}

{% endblock %}


{# {% block demo_content %} #}
{#    <twig:EmojiGrid page="1" /> #}
{# {% endblock %} #}

{# {% block code_block_left %} #}
{#    <twig:CodeBlock filename="src/Twig/InlineEditFood.php" height="400px" /> #}
{# {% endblock %} #}

{# {% block code_block_right %} #}
{#    <twig:CodeBlock filename="templates/components/InlineEditFood.html.twig" height="400px" /> #}
{# {% endblock %} #}

{# {% block demo_content %} #}
{#    <twig:InlineEditFood :food="food" /> #}
{# {% endblock %} #}

{#  $this->emojis ??= array_slice($allEmojis, ($this->page - 1) * self::PER_PAGE, self::PER_PAGE);   #}

{# <svg> #}
{#    <symbol #}
{#        xmlns="http://www.w3.org/2000/svg" #}
{#        id="icon-loader" #}
{#        width="24" #}
{#        height="24" #}
{#        viewBox="0 0 24 24" #}
{#        fill="none" #}
{#        stroke="currentColor" #}
{#        stroke-width="2" #}
{#        stroke-linecap="round" #}
{#        stroke-linejoin="round" #}
{#        class="lucide lucide-loader" #}
{#    > #}
{#        <line x1="12" x2="12" y1="2" y2="6"/> #}
{#        <line x1="12" x2="12" y1="18" y2="22"/> #}
{#        <line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/> #}
{#        <line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/> #}
{#        <line x1="2" x2="6" y1="12" y2="12"/> #}
{#        <line x1="18" x2="22" y1="12" y2="12"/> #}
{#        <line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/> #}
{#        <line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/> #}
{#    </symbol> #}
{# </svg> #}
